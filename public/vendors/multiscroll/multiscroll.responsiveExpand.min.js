/*!
 * multiScroll.js Responsive MultiScroll Extension 0.0.4
 * https://github.com/alvarotrigo/multiscroll.js
 *
 * This code has been bought from https://gumroad.com/alvarotrigo and it is not free to use or distribute.
 * Copyright (C) 2016 alvarotrigo.com - A project by Alvaro Trigo
 */
!function(n){window.ms_responsiveExpandExtension=function(){function e(){var n=".ms-responsive .ms-left{width: 100% !important;}.ms-responsive .ms-right{display: none;}";p("ms-responsive-stylesheet",n)}function t(){var e=n(E).find(A).length;n("[data-position]").length||n.each([E,W],function(t,i){var o;n(i).find(A).each(function(t){o=i===W?parseInt(n(E).find(A).eq(e-t-1).attr("data-position"))+1:2*t,n(this).attr("data-position",o)})})}function i(){if(a(),U.isTouchDevice){var e=n(document.activeElement);if(!e.is("textarea")&&!e.is("input")&&!e.is("select")){var t=I.height();Math.abs(t-_)>20*Math.max(_,t)/100&&(_=t)}}}function o(){var e;if(!Q.autoScrolling){var t=I.scrollTop();if(m!==t){m=t;for(var i=0,a=t+I.height()/2,s=document.querySelector(".ms-left").querySelectorAll(A),r=0;r<s.length;++r){var d=s[r];d.offsetTop<a&&!n(d).hasClass(D)&&(i=r)}e=n(E).find(A).eq(i);var l=n(W).find(A).eq(i);if(!e.hasClass(y)){var c=k.find(H),u=c.index(A)+1,f=U.getYmovement(e),p=e.data("anchor"),h=e.index(A)+1;e.addClass(y).siblings().removeClass(y),l.addClass(y).siblings().removeClass(y),n.isFunction(Q.onLeave)&&Q.onLeave.call(c,u,h,f),n.isFunction(Q.afterLoad)&&Q.afterLoad.call(e,p,h),U.activateMenuElement(p),U.activateNavDots(p,u),Q.anchors.length&&(U.setLastScrollDestiny(p),U.setURLHash(p))}}}requestAnimationFrame(o)}function a(){var n=Q.responsiveWidth,e=Q.responsiveHeight,t=n&&I.outerWidth()<n,i=e&&I.height()<e;n&&e?r(t||i):n?r(t):e&&r(i)}function s(){return j.hasClass(b)}function r(e){var t=s();B&&(v=I.outerWidth(),g=I.height(),w=e&&v===I.outerWidth()&&g===I.height(),B=!1),e?t||(j.addClass(b),n(T).hide(),n.isFunction(Q.afterResponsive)&&Q.afterResponsive.call(n(S),e),d(e),u(!1,"internal")):t&&(j.removeClass(b),n(T).show(),n.isFunction(Q.afterResponsive)&&Q.afterResponsive.call(n(S),e),d(e),u(!0,"internal"))}function d(e){var t;e?(n(W).find(H).removeClass(y),n(W).find(A).appendTo(E),t=k.find(A).sort(function(e,t){return n(e).data("position")-n(t).data("position")}),n(E).empty().append(t)):(n(document).find('[data-panel="'+c()+'"][data-index="'+l()+'"]').addClass(y),t=n(document).find('[data-panel="'+L+'"]').sort(function(e,t){return n(t).data("index")-n(e).data("index")}),n(W).append(t),t=k.find(A).sort(function(e,t){return n(e).data("index")-n(t).data("index")}),n(E).empty().append(t),h(n(E),n(E).find(H).position().top),h(n(W),n(W).find(H).position().top))}function l(){var e=n(H).data("index"),t=n(E).find(A).length/2,i=t-e-1;return i}function c(){return n(H).data("panel")===L?M:L}function u(e,t){var i;e||(h(k,0),h(N,0)),Q.autoScrolling=e,Q.autoScrolling?(z.css({overflow:"hidden",height:"100%"}),Q.recordHistory=!0,i={"-ms-touch-action":"none","touch-action":"none"},N.css(i),k.css(i),U.addTouchHandler(),U.addMouseWheelHandler(),z.scrollTop(0)):(z.css({overflow:"visible",height:"initial"}),Q.recordHistory=!1,i={"-ms-touch-action":"","touch-action":""},N.css(i),k.css(i),U.removeTouchHandler(),U.removeMouseWheelHandler()),f();var o=w&&!Q.autoScrolling?n(E).find(A).eq(0):k.find(H),a=N.find(H);o.length&&(h(k,o.position().top),o.addClass(y).siblings().removeClass(y),a.length&&Q.autoScrolling&&h(N,a.position().top))}function f(){N.html(N.find(A).get().reverse())}function p(e,t){n("#"+e).length||n('<style id="'+e+'">'+t+"</style>").appendTo("head")}function h(n,e){var t=Math.round(e);Q.css3&&Q.autoScrolling?U.transformContainer(n,"translate3d(0px, -"+t+"px, 0px)",!1):Q.autoScrolling?n.css("top",-t):z.scrollTop(t)}!function(){var n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;window.requestAnimationFrame=n}();var m,v,g,w,x=this,y="active",C="."+y,q="multiscroll-wrapper",S="."+q,b="ms-responsive",F="multiscroll-nav",T="#"+F,R="ms-section",A="."+R,H=A+C,M="ms-left",E="."+M,L="ms-right",W="."+L,D="ms-hide",I=n(window),z=n("html, body"),j=n("body"),k=n(E),N=n(W),O=n.fn.multiscroll.getMultiscrollData(),Q=O.options,U=O.internals,Y=I.height(),_=Y,B=!0;n.extend(n.easing,{easeInOutCubic:function(n,e,t,i,o){return(e/=o/2)<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t}}),x.init=function(){e(),n(window).on("resize",i),o(),t(),a()},x.setIndex=function(e){n("."+e).find(A).each(function(t){n(this).attr("data-index",t),n(this).attr("data-panel",e)})},x.responsive=a,x.isResponsive=s,x.performMovement=function(e){n("html,body").animate({scrollTop:e.position().top},Q.scrollingSpeed,Q.easing).promise().done(function(){})},x.c=U.c;var G=x["common".charAt(0)];return"complete"===document.readyState&&G("responsiveExpand"),n(window).on("load",function(){G("responsiveExpand")}),x}}(jQuery);